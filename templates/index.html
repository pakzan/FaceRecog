<html>
  <head>
    <title>Video Streaming Demonstration</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  </head>
  <body>
    <h1>Video Streaming Demonstration</h1>
    <img id="webcam" src="{{ url_for('video_feed') }}">
  </body>
  <script type="text/javascript">
  	checkForChanges()
  	function checkForChanges()
	{
		//get player info if positions of all players found
		//flask server will change a smaller image after all players found
		//check for the image size every 0.5 second
  		if(100 < $('#webcam').height() && $('#webcam').height() < 300){
	  		console.log($('#webcam').height());
	  		$(location).attr('href','/player_info');
  		}

	    setTimeout(checkForChanges, 500);
	}
  	
  	//get current status from flask server
  	//text to speech API
  	var source = new EventSource("/audio_feed");
    source.onmessage = function(event) {
    	msg = new SpeechSynthesisUtterance(event.data)
    	window.speechSynthesis.speak(msg)
    	console.log(event.data)
    }
  </script>
</html>